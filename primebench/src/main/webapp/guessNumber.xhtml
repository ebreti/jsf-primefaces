<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta author="fmarianoc" />
	<title>Adivinhe o número</title>
</h:head>
<h:body onload="if(#{game.estado == 'PRONTO'}){
	var foco = document.getElementById('adivinhe:numero');
	foco.value = '';
	foco.focus();}">
	<!-- Esta solução é absurdamente dependente da língua portuguesa. -->
	<p:panel style="text-align: center;">
		<f:facet name="header">
			<h:outputText id="conhecido" value="#{user.nickname} adivinhe"
              	rendered="#{user.estado == 'CONHECIDO'}" />
			<h:outputText id="anonimo" value="Adivinhe"
              	rendered="#{user.estado != 'CONHECIDO'}" />
			 o número...
		</f:facet>
		<f:facet name="footer">
		    <p:messages id="messages" closable="true" />  
		</f:facet>
		<h:form id="adivinhe">
			<!-- Instructions for the user -->
			<h:outputText id="estive" value="Estava "
              	rendered="#{game.estado == 'TERMINADO'}" />
			<h:outputText id="estou" value="Estou "
              	rendered="#{game.estado == 'PRONTO'}" />
			pensando
			<h:outputText id="unico" value="em apenas um único número: #{game.smallest}."
              	rendered="#{game.smallest == game.biggest}" />
			<h:outputText id="varios" value="em um número entre #{game.smallest}	e #{game.biggest}."
              	rendered="#{game.smallest != game.biggest}" />
			<p:separator />
			<!-- Input box for the users guess, plus a button to submit, and reset -->
			<!-- These are bound using EL to our CDI beans -->
			Sua escolha:
			<h:inputText id="numero" value="#{game.guess}" required="true"
				size="3" disabled="#{game.estado == 'TERMINADO'}"
				validator="#{game.validateNumberRange}" />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			<h:commandButton id="Escolha" value="Escolha"
				action="#{game.check}" disabled="#{game.estado == 'TERMINADO'}" />
			<p:separator />
			Você 
			<h:outputText id="tinha" value="tinha"
              	rendered="#{game.estado == 'TERMINADO'}" />
			<h:outputText id="tem" value="tem"
              	rendered="#{game.estado == 'PRONTO'}" />
			mais #{game.remainingGuesses}
			<h:outputText id="plural" value="chances."
              	rendered="#{game.remainingGuesses != 1}" />
			<h:outputText id="singular" value="chance."
              	rendered="#{game.remainingGuesses == 1}" />
            &nbsp;
			<h:commandButton id="Recomecar" value="Recomeçar"
				rendered="#{game.estado == 'TERMINADO'}"
				action="#{game.reset}" immediate="true" />
			<p:separator />
			Você está com [#{game.pontos}] pontos.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	    	<h:commandButton action="home" immediate="true" value="Menu" />
		</h:form>
	</p:panel>
	<br style="clear: both" />
</h:body>
</html>
